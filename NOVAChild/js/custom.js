!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=21)}({21:function(t,n,e){"use strict";e.r(n);var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return r(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var o=i(r);o.right,o.left;var u=Array.prototype;u.slice,u.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Array.prototype.slice;var a={value:function(){}};function s(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new l(r)}function l(t){this._=t}function c(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function h(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function f(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}l.prototype=s.prototype={constructor:l,on:function(t,n){var e,r=this._,i=c(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=f(r[e],t.name,n);else if(null==n)for(e in r)r[e]=f(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=h(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new l(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var d=s;function p(){}var g=function(t){return null==t?p:function(){return this.querySelector(t)}};function v(){return[]}var y=function(t){return null==t?v:function(){return this.querySelectorAll(t)}},_=function(t){return function(){return this.matches(t)}},m=function(t){return new Array(t.length)};function w(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function x(t,n,e,r,i,o){for(var u,a=0,s=n.length,l=o.length;a<l;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new w(t,o[a]);for(;a<s;++a)(u=n[a])&&(i[a]=u)}function b(t,n,e,r,i,o,u){var a,s,l,c={},h=n.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=l="$"+u.call(s,s.__data__,a,n),l in c?i[a]=s:c[l]=s);for(a=0;a<f;++a)(s=c[l="$"+u.call(t,o[a],a,o)])?(r[a]=s,s.__data__=o[a],c[l]=null):e[a]=new w(t,o[a]);for(a=0;a<h;++a)(s=n[a])&&c[d[a]]===s&&(i[a]=s)}function M(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var C="http://www.w3.org/1999/xhtml",S={svg:"http://www.w3.org/2000/svg",xhtml:C,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},A=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),S.hasOwnProperty(n)?{space:S[n],local:t}:t};function T(t){return function(){this.removeAttribute(t)}}function k(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L(t,n){return function(){this.setAttribute(t,n)}}function N(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function E(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function D(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var U=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function P(t){return function(){this.style.removeProperty(t)}}function O(t,n,e){return function(){this.style.setProperty(t,n,e)}}function R(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function H(t,n){return t.style.getPropertyValue(n)||U(t).getComputedStyle(t,null).getPropertyValue(n)}function F(t){return function(){delete this[t]}}function Y(t,n){return function(){this[t]=n}}function I(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function V(t){return t.trim().split(/^|\s+/)}function q(t){return t.classList||new z(t)}function z(t){this._node=t,this._names=V(t.getAttribute("class")||"")}function j(t,n){for(var e=q(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function X(t,n){for(var e=q(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function $(t){return function(){j(this,t)}}function G(t){return function(){X(this,t)}}function W(t,n){return function(){(n.apply(this,arguments)?j:X)(this,t)}}z.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function B(){this.textContent=""}function Z(t){return function(){this.textContent=t}}function Q(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function J(){this.innerHTML=""}function K(t){return function(){this.innerHTML=t}}function tt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function nt(){this.nextSibling&&this.parentNode.appendChild(this)}function et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===C&&n.documentElement.namespaceURI===C?n.createElement(t):n.createElementNS(e,t)}}function it(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ot=function(t){var n=A(t);return(n.local?it:rt)(n)};function ut(){return null}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function lt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var ct={},ht=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ct={mouseenter:"mouseover",mouseleave:"mouseout"}));function ft(t,n,e){return t=dt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function dt(t,n,e){return function(r){var i=ht;ht=r;try{t.call(this,this.__data__,n,e)}finally{ht=i}}}function pt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function gt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function vt(t,n,e){var r=ct.hasOwnProperty(t.type)?ft:dt;return function(i,o,u){var a,s=this.__on,l=r(n,o,u);if(s)for(var c=0,h=s.length;c<h;++c)if((a=s[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=e),void(a.value=n);this.addEventListener(t.type,l,e),a={type:t.type,name:t.name,value:n,listener:l,capture:e},s?s.push(a):this.__on=[a]}}function yt(t,n,e){var r=U(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function _t(t,n){return function(){return yt(this,t,n)}}function mt(t,n){return function(){return yt(this,t,n.apply(this,arguments))}}var wt=[null];function xt(t,n){this._groups=t,this._parents=n}function bt(){return new xt([[document.documentElement]],wt)}xt.prototype=bt.prototype={constructor:xt,select:function(t){"function"!=typeof t&&(t=g(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],s=a.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=a[c])&&(u=t.call(o,o.__data__,c,a))&&("__data__"in o&&(u.__data__=o.__data__),l[c]=u);return new xt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=y(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],s=a.length,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new xt(r,i)},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new xt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),c=-1,this.each((function(t){p[++c]=t})),p;var e,r=n?b:x,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),s=new Array(u),l=new Array(u),c=0;c<u;++c){var h=i[c],f=o[c],d=f.length,p=t.call(h,h&&h.__data__,c,i),g=p.length,v=s[c]=new Array(g),y=a[c]=new Array(g);r(h,f,v,y,l[c]=new Array(d),p,n);for(var _,m,w=0,M=0;w<g;++w)if(_=v[w]){for(w>=M&&(M=w+1);!(m=y[M])&&++M<g;);_._next=m||null}}return(a=new xt(a,i))._enter=s,a._exit=l,a},enter:function(){return new xt(this._enter||this._groups.map(m),this._parents)},exit:function(){return new xt(this._exit||this._groups.map(m),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=n[a],c=e[a],h=l.length,f=u[a]=new Array(h),d=0;d<h;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)u[a]=n[a];return new xt(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=M);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],s=a.length,l=i[o]=new Array(s),c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(n)}return new xt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=A(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?k:T:"function"==typeof n?e.local?D:E:e.local?N:L)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?P:"function"==typeof n?R:O)(t,n,null==e?"":e)):H(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?F:"function"==typeof n?I:Y)(t,n)):this.node()[t]},classed:function(t,n){var e=V(t+"");if(arguments.length<2){for(var r=q(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?W:n?$:G)(e,n))},text:function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?Q:Z)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?J:("function"==typeof t?tt:K)(t)):this.node().innerHTML},raise:function(){return this.each(nt)},lower:function(){return this.each(et)},append:function(t){var n="function"==typeof t?t:ot(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:ot(t),r=null==n?ut:"function"==typeof n?n:g(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(at)},clone:function(t){return this.select(t?lt:st)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=pt(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?vt:gt,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var s,l=0,c=a.length;l<c;++l)for(r=0,s=a[l];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?mt:_t)(t,n))}};var Mt=bt,Ct=function(t){return"string"==typeof t?new xt([[document.querySelector(t)]],[document.documentElement]):new xt([[t]],wt)};var St=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function At(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Tt(){}var kt="\\s*([+-]?\\d+)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Et=/^#([0-9a-f]{3,8})$/,Dt=new RegExp("^rgb\\("+[kt,kt,kt]+"\\)$"),Ut=new RegExp("^rgb\\("+[Nt,Nt,Nt]+"\\)$"),Pt=new RegExp("^rgba\\("+[kt,kt,kt,Lt]+"\\)$"),Ot=new RegExp("^rgba\\("+[Nt,Nt,Nt,Lt]+"\\)$"),Rt=new RegExp("^hsl\\("+[Lt,Nt,Nt]+"\\)$"),Ht=new RegExp("^hsla\\("+[Lt,Nt,Nt,Lt]+"\\)$"),Ft={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yt(){return this.rgb().formatHex()}function It(){return this.rgb().formatRgb()}function Vt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Et.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?qt(n):3===e?new $t(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?zt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?zt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Dt.exec(t))?new $t(n[1],n[2],n[3],1):(n=Ut.exec(t))?new $t(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Pt.exec(t))?zt(n[1],n[2],n[3],n[4]):(n=Ot.exec(t))?zt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Rt.exec(t))?Zt(n[1],n[2]/100,n[3]/100,1):(n=Ht.exec(t))?Zt(n[1],n[2]/100,n[3]/100,n[4]):Ft.hasOwnProperty(t)?qt(Ft[t]):"transparent"===t?new $t(NaN,NaN,NaN,0):null}function qt(t){return new $t(t>>16&255,t>>8&255,255&t,1)}function zt(t,n,e,r){return r<=0&&(t=n=e=NaN),new $t(t,n,e,r)}function jt(t){return t instanceof Tt||(t=Vt(t)),t?new $t((t=t.rgb()).r,t.g,t.b,t.opacity):new $t}function Xt(t,n,e,r){return 1===arguments.length?jt(t):new $t(t,n,e,null==r?1:r)}function $t(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Gt(){return"#"+Bt(this.r)+Bt(this.g)+Bt(this.b)}function Wt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Bt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Zt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Jt(t,n,e,r)}function Qt(t){if(t instanceof Jt)return new Jt(t.h,t.s,t.l,t.opacity);if(t instanceof Tt||(t=Vt(t)),!t)return new Jt;if(t instanceof Jt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,s=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=s>0&&s<1?0:u,new Jt(u,a,s,t.opacity)}function Jt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Kt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function tn(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}St(Tt,Vt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Yt,formatHex:Yt,formatHsl:function(){return Qt(this).formatHsl()},formatRgb:It,toString:It}),St($t,Xt,At(Tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gt,formatHex:Gt,formatRgb:Wt,toString:Wt})),St(Jt,(function(t,n,e,r){return 1===arguments.length?Qt(t):new Jt(t,n,e,null==r?1:r)}),At(Tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Jt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Jt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new $t(Kt(t>=240?t-240:t+120,i,r),Kt(t,i,r),Kt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var nn=function(t){return function(){return t}};function en(t,n){return function(e){return t+e*n}}function rn(t){return 1==(t=+t)?on:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):nn(isNaN(n)?e:n)}}function on(t,n){var e=n-t;return e?en(t,e):nn(isNaN(t)?n:t)}var un=function t(n){var e=rn(n);function r(t,n){var r=e((t=Xt(t)).r,(n=Xt(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=on(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function an(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Xt(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}an((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return tn((e-r/n)*n,u,i,o,a)}})),an((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return tn((e-r/n)*n,i,o,u,a)}}));var sn=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cn=new RegExp(ln.source,"g");var hn,fn,dn=function(t,n){var e,r,i,o=ln.lastIndex=cn.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(e=ln.exec(t))&&(r=cn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,s.push({i:u,x:sn(e,r)})),o=cn.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)a[(e=s[r]).i]=e.x(t);return a.join("")})},pn=function(){for(var t,n=ht;t=n.sourceEvent;)n=t;return n},gn=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},vn=function(t){var n=pn();return n.changedTouches&&(n=n.changedTouches[0]),gn(t,n)},yn=0,_n=0,mn=0,wn=0,xn=0,bn=0,Mn="object"==typeof performance&&performance.now?performance:Date,Cn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sn(){return xn||(Cn(An),xn=Mn.now()+bn)}function An(){xn=0}function Tn(){this._call=this._time=this._next=null}function kn(t,n,e){var r=new Tn;return r.restart(t,n,e),r}function Ln(){xn=(wn=Mn.now())+bn,yn=_n=0;try{!function(){Sn(),++yn;for(var t,n=hn;n;)(t=xn-n._time)>=0&&n._call.call(null,t),n=n._next;--yn}()}finally{yn=0,function(){var t,n,e=hn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hn=n);fn=t,En(r)}(),xn=0}}function Nn(){var t=Mn.now(),n=t-wn;n>1e3&&(bn-=n,wn=t)}function En(t){yn||(_n&&(_n=clearTimeout(_n)),t-xn>24?(t<1/0&&(_n=setTimeout(Ln,t-Mn.now()-bn)),mn&&(mn=clearInterval(mn))):(mn||(wn=Mn.now(),mn=setInterval(Nn,1e3)),yn=1,Cn(Ln)))}Tn.prototype=kn.prototype={constructor:Tn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Sn():+e)+(null==n?0:+n),this._next||fn===this||(fn?fn._next=this:hn=this,fn=this),this._call=t,this._time=e,En()},stop:function(){this._call&&(this._call=null,this._time=1/0,En())}};var Dn=function(t,n,e){var r=new Tn;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},Un=d("start","end","cancel","interrupt"),Pn=[],On=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var l,c,h,f;if(1!==e.state)return a();for(l in i)if((f=i[l]).name===e.name){if(3===f.state)return Dn(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<n&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Dn((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(h=e.tween.length),l=0,c=-1;l<h;++l)(f=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=f);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=kn((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Un,tween:Pn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Rn(t,n){var e=Fn(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Hn(t,n){var e=Fn(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Fn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Yn,In,Vn,qn,zn=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},jn=180/Math.PI,Xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},$n=function(t,n,e,r,i,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,s/=a),t*r<n*e&&(t=-t,n=-n,s=-s,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*jn,skewX:Math.atan(s)*jn,scaleX:u,scaleY:a}};function Gn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var s=u.push("translate(",null,n,null,e);a.push({i:s-4,x:sn(t,i)},{i:s-2,x:sn(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:sn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:sn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,s),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:sn(t,e)},{i:a-2,x:sn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var n,e=-1,r=s.length;++e<r;)a[(n=s[e]).i]=n.x(t);return a.join("")}}}var Wn=Gn((function(t){return"none"===t?Xn:(Yn||(Yn=document.createElement("DIV"),In=document.documentElement,Vn=document.defaultView),Yn.style.transform=t,t=Vn.getComputedStyle(In.appendChild(Yn),null).getPropertyValue("transform"),In.removeChild(Yn),t=t.slice(7,-1).split(","),$n(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Bn=Gn((function(t){return null==t?Xn:(qn||(qn=document.createElementNS("http://www.w3.org/2000/svg","g")),qn.setAttribute("transform",t),(t=qn.transform.baseVal.consolidate())?(t=t.matrix,$n(t.a,t.b,t.c,t.d,t.e,t.f)):Xn)}),", ",")",")");function Zn(t,n){var e,r;return function(){var i=Hn(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function Qn(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Hn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=a;break}s===l&&i.push(a)}o.tween=i}}function Jn(t,n,e){var r=t._id;return t.each((function(){var t=Hn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Fn(t,r).value[n]}}var Kn=function(t,n){var e;return("number"==typeof n?sn:n instanceof Vt?un:(e=Vt(n))?(n=e,un):dn)(t,n)};function te(t){return function(){this.removeAttribute(t)}}function ne(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ee(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function re(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function ie(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttribute(t))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttribute(t)}}function oe(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttributeNS(t.space,t.local)}}function ue(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ae(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function se(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&ae(t,i)),e}return i._value=n,i}function le(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&ue(t,i)),e}return i._value=n,i}function ce(t,n){return function(){Rn(this,t).delay=+n.apply(this,arguments)}}function he(t,n){return n=+n,function(){Rn(this,t).delay=n}}function fe(t,n){return function(){Hn(this,t).duration=+n.apply(this,arguments)}}function de(t,n){return n=+n,function(){Hn(this,t).duration=n}}function pe(t,n){if("function"!=typeof n)throw new Error;return function(){Hn(this,t).ease=n}}function ge(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Rn:Hn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}var ve=Mt.prototype.constructor;function ye(t){return function(){this.style.removeProperty(t)}}function _e(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function me(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&_e(t,o,e)),r}return o._value=n,o}function we(t){return function(n){this.textContent=t.call(this,n)}}function xe(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&we(r)),n}return r._value=t,r}var be=0;function Me(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ce(){return++be}var Se=Mt.prototype;Me.prototype=function(t){return Mt().transition(t)}.prototype={constructor:Me,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=g(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,s,l=r[u],c=l.length,h=o[u]=new Array(c),f=0;f<c;++f)(a=l[f])&&(s=t.call(a,a.__data__,f,l))&&("__data__"in a&&(s.__data__=a.__data__),h[f]=s,On(h[f],n,e,f,h,Fn(a,e)));return new Me(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var s,l=r[a],c=l.length,h=0;h<c;++h)if(s=l[h]){for(var f,d=t.call(s,s.__data__,h,l),p=Fn(s,e),g=0,v=d.length;g<v;++g)(f=d[g])&&On(f,n,e,g,d,p);o.push(d),u.push(s)}return new Me(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new Me(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=n[a],c=e[a],h=l.length,f=u[a]=new Array(h),d=0;d<h;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)u[a]=n[a];return new Me(u,this._parents,this._name,this._id)},selection:function(){return new ve(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Ce(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)if(u=a[l]){var c=Fn(u,n);On(u,t,e,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Me(r,this._parents,t,e)},call:Se.call,nodes:Se.nodes,node:Se.node,size:Se.size,empty:Se.empty,each:Se.each,on:function(t,n){var e=this._id;return arguments.length<2?Fn(this.node(),e).on.on(t):this.each(ge(e,t,n))},attr:function(t,n){var e=A(t),r="transform"===e?Bn:Kn;return this.attrTween(t,"function"==typeof n?(e.local?oe:ie)(e,r,Jn(this,"attr."+t,n)):null==n?(e.local?ne:te)(e):(e.local?re:ee)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=A(t);return this.tween(e,(r.local?se:le)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Wn:Kn;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=H(this,t),u=(this.style.removeProperty(t),H(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,ye(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=H(this,t),a=e(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=H(this,t)),u===s?null:u===r&&s===i?o:(i=s,o=n(r=u,a))}}(t,r,Jn(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var s=Hn(this,t),l=s.on,c=null==s.value[u]?o||(o=ye(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(a,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=H(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,me(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Jn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,xe(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Fn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Zn:Qn)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ce:he)(n,t)):Fn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?fe:de)(n,t)):Fn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(pe(n,t)):Fn(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},s={value:function(){0==--i&&o()}};e.each((function(){var e=Hn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),e.on=n}))}))}};var Ae={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Te(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ae.time=Sn(),Ae;return e}Mt.prototype.interrupt=function(t){return this.each((function(){zn(this,t)}))},Mt.prototype.transition=function(t){var n,e;t instanceof Me?(n=t._id,t=t._name):(n=Ce(),(e=Ae).time=Sn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)(u=a[l])&&On(u,t,n,l,a,e||Te(u,n));return new Me(r,this._parents,t,n)};function ke(t){return[+t[0],+t[1]]}function Le(t){return[ke(t[0]),ke(t[1])]}["w","e"].map(Ne),["n","s"].map(Ne),["n","w","e","s","nw","ne","sw","se"].map(Ne);function Ne(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Ee=Math.PI,De=2*Ee,Ue=De-1e-6;function Pe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Oe(){return new Pe}Pe.prototype=Oe.prototype={constructor:Pe,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,s=r-n,l=o-t,c=u-n,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(c*a-s*l)>1e-6&&i){var f=e-o,d=r-u,p=a*a+s*s,g=f*f+d*d,v=Math.sqrt(p),y=Math.sqrt(h),_=i*Math.tan((Ee-Math.acos((p+h-g)/(2*v*y)))/2),m=_/y,w=_/v;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*l)+","+(n+m*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*d)+","+(this._x1=t+w*a)+","+(this._y1=n+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),s=t+u,l=n+a,c=1^o,h=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+s+","+l),e&&(h<0&&(h=h%De+De),h>Ue?this._+="A"+e+","+e+",0,1,"+c+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):h>1e-6&&(this._+="A"+e+","+e+",0,"+ +(h>=Ee)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function Re(){}function He(t,n){var e=new Re;if(t instanceof Re)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}Re.prototype=He.prototype={constructor:Re,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Fe=He;function Ye(){}var Ie=Fe.prototype;function Ve(t,n){var e=new Ye;if(t instanceof Ye)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Ye.prototype=Ve.prototype={constructor:Ye,has:Ie.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Ie.remove,clear:Ie.clear,values:Ie.keys,size:Ie.size,empty:Ie.empty,each:Ie.each};Array.prototype.slice;function qe(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,s,l,c,h,f,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,_=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=n>=(o=(g+y)/2))?g=o:y=o,(c=e>=(u=(v+_)/2))?v=u:_=u,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(a=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===a&&e===s)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=n>=(o=(g+y)/2))?g=o:y=o,(c=e>=(u=(v+_)/2))?v=u:_=u}while((h=c<<1|l)==(f=(s>=u)<<1|a>=o));return i[f]=d,i[h]=p,t}var ze=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function je(t){return t[0]}function Xe(t){return t[1]}function $e(t,n,e){var r=new Ge(null==n?je:n,null==e?Xe:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ge(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function We(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Be=$e.prototype=Ge.prototype;Be.copy=function(){var t,n,e=new Ge(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=We(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=We(n));return e},Be.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return qe(this.cover(n,e),n,e,t)},Be.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),s=1/0,l=1/0,c=-1/0,h=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(s>c||l>h)return this;for(this.cover(s,l).cover(c,h),e=0;e<o;++e)qe(this,u[e],a[e],t[e]);return this},Be.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,s=i-e,l=this._root;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=l,l=u,s*=2,a){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Be.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Be.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Be.find=function(t,n,e){var r,i,o,u,a,s,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new ze(g,c,h,f,d)),null==e?e=1/0:(c=t-e,h=n-e,f=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>f||(o=s.y0)>d||(u=s.x1)<c||(a=s.y1)<h))if(g.length){var v=(i+u)/2,y=(o+a)/2;p.push(new ze(g[3],v,y,u,a),new ze(g[2],i,y,v,a),new ze(g[1],v,o,u,y),new ze(g[0],i,o,v,y)),(l=(n>=y)<<1|t>=v)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var _=t-+this._x.call(null,g.data),m=n-+this._y.call(null,g.data),w=_*_+m*m;if(w<e){var x=Math.sqrt(e=w);c=t-x,h=n-x,f=t+x,d=n+x,r=g.data}}return r},Be.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,s,l,c,h,f,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(a=(p+v)/2))?p=a:v=a,(c=u>=(s=(g+y)/2))?g=s:y=s,n=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[f]=d:this._root=d),this):(this._root=i,this)},Be.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Be.root=function(){return this._root},Be.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Be.visit=function(t){var n,e,r,i,o,u,a=[],s=this._root;for(s&&a.push(new ze(s,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&s.length){var l=(r+o)/2,c=(i+u)/2;(e=s[3])&&a.push(new ze(e,l,c,o,u)),(e=s[2])&&a.push(new ze(e,r,c,l,u)),(e=s[1])&&a.push(new ze(e,l,i,o,c)),(e=s[0])&&a.push(new ze(e,r,i,l,c))}return this},Be.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new ze(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,s=n.x1,l=n.y1,c=(u+s)/2,h=(a+l)/2;(o=i[0])&&e.push(new ze(o,u,a,c,h)),(o=i[1])&&e.push(new ze(o,c,a,s,h)),(o=i[2])&&e.push(new ze(o,u,h,c,l)),(o=i[3])&&e.push(new ze(o,c,h,s,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Be.x=function(t){return arguments.length?(this._x=t,this):this._x},Be.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var Ze=function(){return Math.random()},Qe=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Ze),function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Ze)),Je=(function t(n){function e(){var t=Qe.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Ze),function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(Ze));(function t(n){function e(t){var e=Je.source(n)(t);return function(){return e()/t}}return e.source=t,e})(Ze),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(Ze);var Ke=Array.prototype;Ke.map,Ke.slice;var tr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nr(t){if(!(n=tr.exec(t)))throw new Error("invalid format: "+t);var n;return new er({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function er(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}nr.prototype=er.prototype,er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function rr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}var ir,or,ur=function(t){return(t=rr(Math.abs(t)))?t[1]:NaN},ar=function(t,n){var e=rr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},sr={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ar(100*t,n)},r:ar,s:function(t,n){var e=rr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ir=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rr(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},lr=function(t){return t},cr=Array.prototype.map,hr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];or=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?lr:(n=cr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(t.substring(i-=a,i+a)),!((s+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?lr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(cr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=nr(t)).fill,e=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.trim,_=t.type;"n"===_?(g=!0,_="g"):sr[_]||(void 0===v&&(v=12),y=!0,_="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var m="$"===f?i:"#"===f&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w="$"===f?o:/[%p]/.test(_)?s:"",x=sr[_],b=/[defgprs%]/.test(_);function M(t){var i,o,s,f=m,M=w;if("c"===_)M=x(t)+M,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),C&&0==+t&&"+"!==h&&(C=!1),f=(C?"("===h?h:l:"-"===h||"("===h?"":h)+f,M=("s"===_?hr[8+ir/3]:"")+M+(C&&"("===h?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?u+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var S=f.length+t.length+M.length,A=S<p?new Array(p-S+1).join(n):"";switch(g&&d&&(t=r(A+t,A.length?p-M.length:1/0),A=""),e){case"<":t=f+t+M+A;break;case"=":t=f+A+t+M;break;case"^":t=A.slice(0,S=A.length>>1)+f+t+M+A.slice(S);break;default:t=A+f+t+M}return a(t)}return v=void 0===v?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,n){var e=h(((t=nr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ur(n)/3))),i=Math.pow(10,-r),o=hr[8+r/3];return function(t){return e(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),or.format,or.formatPrefix;var fr=new Date,dr=new Date;function pr(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return pr((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return fr.setTime(+n),dr.setTime(+r),t(fr),t(dr),Math.floor(e(fr,dr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var gr=pr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));gr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?pr((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var vr=gr,yr=(gr.range,pr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));yr.range;function _r(t){return pr((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var mr=_r(0),wr=_r(1),xr=_r(2),br=_r(3),Mr=_r(4),Cr=_r(5),Sr=_r(6),Ar=(mr.range,wr.range,xr.range,br.range,Mr.range,Cr.range,Sr.range,pr((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),Tr=Ar,kr=(Ar.range,pr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),Lr=(kr.range,pr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()}))),Nr=(Lr.range,pr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()}))),Er=(Nr.range,pr((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));Er.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?pr((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):Er:null};Er.range;function Dr(t){return pr((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var Ur=Dr(0),Pr=Dr(1),Or=Dr(2),Rr=Dr(3),Hr=Dr(4),Fr=Dr(5),Yr=Dr(6),Ir=(Ur.range,Pr.range,Or.range,Rr.range,Hr.range,Fr.range,Yr.range,pr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Vr=Ir,qr=(Ir.range,pr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));qr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?pr((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var zr=qr;qr.range;function jr(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $r(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Gr,Wr={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,Zr=/^%/,Qr=/[\\^$*+?|[\]().{}]/g;function Jr(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Kr(t){return t.replace(Qr,"\\$&")}function ti(t){return new RegExp("^(?:"+t.map(Kr).join("|")+")","i")}function ni(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function ei(t,n,e){var r=Br.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ri(t,n,e){var r=Br.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function ii(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function oi(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function ui(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function ai(t,n,e){var r=Br.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function si(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function li(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ci(t,n,e){var r=Br.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function hi(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function fi(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function di(t,n,e){var r=Br.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function pi(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function gi(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function vi(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function yi(t,n,e){var r=Br.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function _i(t,n,e){var r=Br.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function mi(t,n,e){var r=Zr.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function wi(t,n,e){var r=Br.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function xi(t,n,e){var r=Br.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function bi(t,n){return Jr(t.getDate(),n,2)}function Mi(t,n){return Jr(t.getHours(),n,2)}function Ci(t,n){return Jr(t.getHours()%12||12,n,2)}function Si(t,n){return Jr(1+Tr.count(vr(t),t),n,3)}function Ai(t,n){return Jr(t.getMilliseconds(),n,3)}function Ti(t,n){return Ai(t,n)+"000"}function ki(t,n){return Jr(t.getMonth()+1,n,2)}function Li(t,n){return Jr(t.getMinutes(),n,2)}function Ni(t,n){return Jr(t.getSeconds(),n,2)}function Ei(t){var n=t.getDay();return 0===n?7:n}function Di(t,n){return Jr(mr.count(vr(t)-1,t),n,2)}function Ui(t){var n=t.getDay();return n>=4||0===n?Mr(t):Mr.ceil(t)}function Pi(t,n){return t=Ui(t),Jr(Mr.count(vr(t),t)+(4===vr(t).getDay()),n,2)}function Oi(t){return t.getDay()}function Ri(t,n){return Jr(wr.count(vr(t)-1,t),n,2)}function Hi(t,n){return Jr(t.getFullYear()%100,n,2)}function Fi(t,n){return Jr((t=Ui(t)).getFullYear()%100,n,2)}function Yi(t,n){return Jr(t.getFullYear()%1e4,n,4)}function Ii(t,n){var e=t.getDay();return Jr((t=e>=4||0===e?Mr(t):Mr.ceil(t)).getFullYear()%1e4,n,4)}function Vi(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Jr(n/60|0,"0",2)+Jr(n%60,"0",2)}function qi(t,n){return Jr(t.getUTCDate(),n,2)}function zi(t,n){return Jr(t.getUTCHours(),n,2)}function ji(t,n){return Jr(t.getUTCHours()%12||12,n,2)}function Xi(t,n){return Jr(1+Vr.count(zr(t),t),n,3)}function $i(t,n){return Jr(t.getUTCMilliseconds(),n,3)}function Gi(t,n){return $i(t,n)+"000"}function Wi(t,n){return Jr(t.getUTCMonth()+1,n,2)}function Bi(t,n){return Jr(t.getUTCMinutes(),n,2)}function Zi(t,n){return Jr(t.getUTCSeconds(),n,2)}function Qi(t){var n=t.getUTCDay();return 0===n?7:n}function Ji(t,n){return Jr(Ur.count(zr(t)-1,t),n,2)}function Ki(t){var n=t.getUTCDay();return n>=4||0===n?Hr(t):Hr.ceil(t)}function to(t,n){return t=Ki(t),Jr(Hr.count(zr(t),t)+(4===zr(t).getUTCDay()),n,2)}function no(t){return t.getUTCDay()}function eo(t,n){return Jr(Pr.count(zr(t)-1,t),n,2)}function ro(t,n){return Jr(t.getUTCFullYear()%100,n,2)}function io(t,n){return Jr((t=Ki(t)).getUTCFullYear()%100,n,2)}function oo(t,n){return Jr(t.getUTCFullYear()%1e4,n,4)}function uo(t,n){var e=t.getUTCDay();return Jr((t=e>=4||0===e?Hr(t):Hr.ceil(t)).getUTCFullYear()%1e4,n,4)}function ao(){return"+0000"}function so(){return"%"}function lo(t){return+t}function co(t){return Math.floor(+t/1e3)}!function(t){Gr=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,s=t.shortMonths,l=ti(i),c=ni(i),h=ti(o),f=ni(o),d=ti(u),p=ni(u),g=ti(a),v=ni(a),y=ti(s),_=ni(s),m={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:bi,e:bi,f:Ti,g:Fi,G:Ii,H:Mi,I:Ci,j:Si,L:Ai,m:ki,M:Li,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:lo,s:co,S:Ni,u:Ei,U:Di,V:Pi,w:Oi,W:Ri,x:null,X:null,y:Hi,Y:Yi,Z:Vi,"%":so},w={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:qi,e:qi,f:Gi,g:io,G:uo,H:zi,I:ji,j:Xi,L:$i,m:Wi,M:Bi,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:lo,s:co,S:Zi,u:Qi,U:Ji,V:to,w:no,W:eo,x:null,X:null,y:ro,Y:oo,Z:ao,"%":so},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.w=f[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=_[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return C(t,n,e,r)},d:fi,e:fi,f:_i,g:si,G:ai,H:pi,I:pi,j:di,L:yi,m:hi,M:gi,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=c[r[0].toLowerCase()],e+r[0].length):-1},q:ci,Q:wi,s:xi,S:vi,u:ri,U:ii,V:oi,w:ei,W:ui,x:function(t,n,r){return C(t,e,n,r)},X:function(t,n,e){return C(t,r,n,e)},y:si,Y:ai,Z:li,"%":mi};function b(t,n){return function(e){var r,i,o,u=[],a=-1,s=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++a<l;)37===t.charCodeAt(a)&&(u.push(t.slice(s,a)),null!=(i=Wr[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),s=a+1);return u.push(t.slice(s,a)),u.join("")}}function M(t,n){return function(e){var r,i,o=$r(1900,void 0,1);if(C(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Xr($r(o.y,0,1))).getUTCDay(),r=i>4||0===i?Pr.ceil(r):Pr(r),r=Vr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=jr($r(o.y,0,1))).getDay(),r=i>4||0===i?wr.ceil(r):wr(r),r=Tr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Xr($r(o.y,0,1)).getUTCDay():jr($r(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Xr(o)):jr(o)}}function C(t,n,e,r){for(var i,o,u=0,a=n.length,s=e.length;u<a;){if(r>=s)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=x[i in Wr?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return m.x=b(e,m),m.X=b(r,m),m.c=b(n,m),w.x=b(e,w),w.X=b(r,w),w.c=b(n,w),{format:function(t){var n=b(t+="",m);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=b(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}(t),Gr.format,Gr.parse,Gr.utcFormat,Gr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ho=pr((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),fo=(ho.range,pr((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),po=(fo.range,pr((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})));po.range;function go(){this._=null}function vo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function yo(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function _o(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function mo(t){for(;t.L;)t=t.L;return t}go.prototype={constructor:go,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=mo(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(yo(this,e),e=(t=e).U),e.C=!1,r.C=!0,_o(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(_o(this,e),e=(t=e).U),e.C=!1,r.C=!0,yo(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?mo(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,yo(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,_o(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,yo(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,_o(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,yo(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,_o(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var wo=go;function xo(t,n,e,r){var i=[null,null],o=Xo.push(i)-1;return i.left=t,i.right=n,e&&Mo(i,t,n,e),r&&Mo(i,n,t,r),zo[t.index].halfedges.push(o),zo[n.index].halfedges.push(o),i}function bo(t,n,e){var r=[n,e];return r.left=t,r}function Mo(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Co(t,n,e,r,i){var o,u=t[0],a=t[1],s=u[0],l=u[1],c=0,h=1,f=a[0]-s,d=a[1]-l;if(o=n-s,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-s,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=e-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[s+c*f,l+c*d]),h<1&&(t[1]=[s+h*f,l+h*d]),!0)}}}}}function So(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,s=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],g=(h+d)/2,v=(f+p)/2;if(p===f){if(g<n||g>=r)return;if(h>d){if(s){if(s[1]>=i)return}else s=[g,e];o=[g,i]}else{if(s){if(s[1]<e)return}else s=[g,i];o=[g,e]}}else if(a=v-(u=(h-d)/(p-f))*g,u<-1||u>1)if(h>d){if(s){if(s[1]>=i)return}else s=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(s){if(s[1]<e)return}else s=[(i-a)/u,i];o=[(e-a)/u,e]}else if(f<p){if(s){if(s[0]>=r)return}else s=[n,u*n+a];o=[r,u*r+a]}else{if(s){if(s[0]<n)return}else s=[r,u*r+a];o=[n,u*n+a]}return t[0]=s,t[1]=o,!0}function Ao(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function To(t,n){return n[+(n.left!==t.site)]}function ko(t,n){return n[+(n.left===t.site)]}var Lo,No=[];function Eo(){vo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Do(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],s=r[0]-u,l=r[1]-a,c=o[0]-u,h=o[1]-a,f=2*(s*h-l*c);if(!(f>=-Go)){var d=s*s+l*l,p=c*c+h*h,g=(h*d-l*p)/f,v=(s*p-c*d)/f,y=No.pop()||new Eo;y.arc=t,y.site=i,y.x=g+u,y.y=(y.cy=v+a)+Math.sqrt(g*g+v*v),t.circle=y;for(var _=null,m=jo._;m;)if(y.y<m.y||y.y===m.y&&y.x<=m.x){if(!m.L){_=m.P;break}m=m.L}else{if(!m.R){_=m;break}m=m.R}jo.insert(_,y),_||(Lo=y)}}}}function Uo(t){var n=t.circle;n&&(n.P||(Lo=n.N),jo.remove(n),No.push(n),vo(n),t.circle=null)}var Po=[];function Oo(){vo(this),this.edge=this.site=this.circle=null}function Ro(t){var n=Po.pop()||new Oo;return n.site=t,n}function Ho(t){Uo(t),qo.remove(t),Po.push(t),vo(t)}function Fo(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];Ho(t);for(var s=o;s.circle&&Math.abs(e-s.circle.x)<$o&&Math.abs(r-s.circle.cy)<$o;)o=s.P,a.unshift(s),Ho(s),s=o;a.unshift(s),Uo(s);for(var l=u;l.circle&&Math.abs(e-l.circle.x)<$o&&Math.abs(r-l.circle.cy)<$o;)u=l.N,a.push(l),Ho(l),l=u;a.push(l),Uo(l);var c,h=a.length;for(c=1;c<h;++c)l=a[c],s=a[c-1],Mo(l.edge,s.site,l.site,i);s=a[0],(l=a[h-1]).edge=xo(s.site,l.site,null,i),Do(s),Do(l)}function Yo(t){for(var n,e,r,i,o=t[0],u=t[1],a=qo._;a;)if((r=Io(a,u)-o)>$o)a=a.L;else{if(!((i=o-Vo(a,u))>$o)){r>-$o?(n=a.P,e=a):i>-$o?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}!function(t){zo[t.index]={site:t,halfedges:[]}}(t);var s=Ro(t);if(qo.insert(n,s),n||e){if(n===e)return Uo(n),e=Ro(n.site),qo.insert(s,e),s.edge=e.edge=xo(n.site,s.site),Do(n),void Do(e);if(e){Uo(n),Uo(e);var l=n.site,c=l[0],h=l[1],f=t[0]-c,d=t[1]-h,p=e.site,g=p[0]-c,v=p[1]-h,y=2*(f*v-d*g),_=f*f+d*d,m=g*g+v*v,w=[(v*_-d*m)/y+c,(f*m-g*_)/y+h];Mo(e.edge,l,p,w),s.edge=xo(l,t,null,w),e.edge=xo(t,p,null,w),Do(n),Do(e)}else s.edge=xo(n.site,s.site)}}function Io(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],s=e[1],l=s-n;if(!l)return a;var c=a-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-s+l/2+i-o/2)))/h+r:(r+a)/2}function Vo(t,n){var e=t.N;if(e)return Io(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var qo,zo,jo,Xo,$o=1e-6,Go=1e-12;function Wo(t,n){return n[1]-t[1]||n[0]-t[0]}function Bo(t,n){var e,r,i,o=t.sort(Wo).pop();for(Xo=[],zo=new Array(t.length),qo=new wo,jo=new wo;;)if(i=Lo,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(Yo(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Fo(i.arc)}if(function(){for(var t,n,e,r,i=0,o=zo.length;i<o;++i)if((t=zo[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=Ao(t,Xo[n[e]]);for(u.sort((function(t,n){return a[n]-a[t]})),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],s=+n[1][0],l=+n[1][1];!function(t,n,e,r){for(var i,o=Xo.length;o--;)So(i=Xo[o],t,n,e,r)&&Co(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>$o||Math.abs(i[0][1]-i[1][1])>$o)||delete Xo[o]}(u,a,s,l),function(t,n,e,r){var i,o,u,a,s,l,c,h,f,d,p,g,v=zo.length,y=!0;for(i=0;i<v;++i)if(o=zo[i]){for(u=o.site,a=(s=o.halfedges).length;a--;)Xo[s[a]]||s.splice(a,1);for(a=0,l=s.length;a<l;)p=(d=ko(o,Xo[s[a]]))[0],g=d[1],h=(c=To(o,Xo[s[++a%l]]))[0],f=c[1],(Math.abs(p-h)>$o||Math.abs(g-f)>$o)&&(s.splice(a,0,Xo.push(bo(u,d,Math.abs(p-t)<$o&&r-g>$o?[t,Math.abs(h-t)<$o?f:r]:Math.abs(g-r)<$o&&e-p>$o?[Math.abs(f-r)<$o?h:e,r]:Math.abs(p-e)<$o&&g-n>$o?[e,Math.abs(h-e)<$o?f:n]:Math.abs(g-n)<$o&&p-t>$o?[Math.abs(f-n)<$o?h:t,n]:null))-1),++l);l&&(y=!1)}if(y){var _,m,w,x=1/0;for(i=0,y=null;i<v;++i)(o=zo[i])&&(w=(_=(u=o.site)[0]-t)*_+(m=u[1]-n)*m)<x&&(x=w,y=o);if(y){var b=[t,n],M=[t,r],C=[e,r],S=[e,n];y.halfedges.push(Xo.push(bo(u=y.site,b,M))-1,Xo.push(bo(u,M,C))-1,Xo.push(bo(u,C,S))-1,Xo.push(bo(u,S,b))-1)}}for(i=0;i<v;++i)(o=zo[i])&&(o.halfedges.length||delete zo[i])}(u,a,s,l)}this.edges=Xo,this.cells=zo,qo=jo=Xo=zo=null}Bo.prototype={constructor:Bo,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return To(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a,s,l,c=e.site,h=-1,f=n[i[o-1]],d=f.left===c?f.right:f.left;++h<o;)u=d,d=(f=n[i[h]]).left===c?f.right:f.left,u&&d&&r<u.index&&r<d.index&&(s=u,l=d,((a=c)[0]-l[0])*(s[1]-a[1])-(a[0]-s[0])*(l[1]-a[1])<0)&&t.push([c.data,u.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var s=t-i.site[0],l=n-i.site[1],c=s*s+l*l;do{i=o.cells[r=u],u=null,i.halfedges.forEach((function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var s=t-a[0],l=n-a[1],h=s*s+l*l;h<c&&(c=h,u=a.index)}}))}while(null!==u);return o._found=r,null==e||c<=e*e?i.site:null}};Math.SQRT2;function Zo(t,n,e){this.k=t,this.x=n,this.y=e}Zo.prototype={constructor:Zo,scale:function(t){return 1===t?this:new Zo(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Zo(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Zo(1,0,0);Zo.prototype;class Qo{constructor(){}setItem(t,n){localStorage.setItem(t,n)}getItem(t){return localStorage.getItem(t)}}var Jo=class{constructor(t,n,e){this.i18n=e,this.SaveService=new Qo,this.symmetrical=!0,this.vProfile=!1,this.activeColor=void 0,this.productHash=window.location.href.hashCode(),this.productSVGElement=document.getElementById("productSVG"),this.productSVGElement.onload=this.init.bind(this),this.colorSVGElement=document.getElementById("colorSVG"),this.colorSVGElement.onload=this.initColor.bind(this),fetch(t).then(t=>t.blob()).then(t=>this.productSVGElement.data=URL.createObjectURL(t)).then(()=>fetch(n)).then(t=>t.blob()).then(t=>this.colorSVGElement.data=URL.createObjectURL(t)).then(()=>Ct("#spiderkites-colorizer").transition().style("opacity","1")).catch(t=>console.log(t))}init(){this.initProduct(!0),this.initButtons()}initProduct(t){this.productSvg=t?Ct(this.productSVGElement.contentDocument).select("svg"):Ct("#product svg"),this.productParts=this.productSvg.selectAll("g polygon");const n=this;this.productSvg.on("click",(function(){var t=vn(this);n.productParts.each((function(){const e=n._isDisabled(this.parentNode),r=n._isVProfile(this.parentNode);if(!e&&!r&&!n.vProfile){const e=Ct(this),r=n._getPolygonFromElement(e);if(n._inside(t,r)&&n.activeColor)if(n.symmetrical){Ct(this.parentNode).selectAll("polygon").transition().style("fill",n.activeColor.style("fill")).style("opacity",n.activeColor.style("opacity"))}else e.transition().style("fill",n.activeColor.style("fill")).style("opacity",n.activeColor.style("opacity"))}}))}))}initColor(){const t=this;Ct(this.colorSVGElement.contentDocument).selectAll("rect").style("cursor","pointer").on("click",(function(){const n=Ct(this);t.activeColor&&(t.activeColor.style("stroke",null),t.activeColor.style("stroke-width",null)),t.activeColor=n,t.activeColor.style("stroke","#474747"),t.activeColor.style("stroke-width","1.5px"),t.vProfile&&t.colorVProfile()}))}colorVProfile(){const t=this;this.productParts.each((function(){const n=Ct(this);"vProfile"===Ct(this.parentNode).attr("id")&&n.transition().style("fill",t.activeColor.style("fill"))}))}initButtons(){const t=this;Ct("#clear-btn").on("click",()=>{t._clearSvg()}),Ct("#download-btn").on("click",()=>{!function(t,n){let e=document.createElement("a");e.setAttribute("href","data:image/svg+xml;utf8,"+encodeURIComponent(n)),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}("kite.svg",this.productSvg.node().outerHTML)}),Ct("#save-btn").on("click",()=>{this.SaveService.setItem(this.productHash,this.productSvg.node().outerHTML),alert(this.i18n.translate("SUCCESS_SAVE_DIALOG"))}),Ct("#load-btn").on("click",()=>{const t=this.SaveService.getItem(this.productHash);t?confirm(this.i18n.translate("CONFIRM_DIALOG"))&&this.loadSvg(t):alert(this.i18n.translate("NO_ITEM_FOUND_DIALOG"))}),Ct("#symmetrical-checkbox").on("change",()=>{this.symmetrical=!this.symmetrical});this.productSvg.select("#vProfile").empty()||(Ct("#show-vprofile-checkbox").style("display","initial"),Ct("#vprofile-checkbox").on("change",()=>{this.vProfile=!this.vProfile}))}loadSvg(t){this._destroyListener(),Ct("#product div").html(t),this.initProduct(!1)}_clearSvg(){const t=this;this.productParts.each((function(){const n=t._isDisabled(this.parentNode),e=t._isVProfile(this.parentNode);if(n||e){if(e){Ct(this).transition().attr("style",void 0)}}else{Ct(this).transition().style("fill","rgb(255, 255, 255)").style("opacity",.8)}}))}_isDisabled(t){return"disabled"===Ct(t).attr("id")}_isVProfile(t){return"vProfile"===Ct(t).attr("id")}_destroyListener(){this.productSvg.on("click",null)}_inside(t,n){for(var e=t[0],r=t[1],i=!1,o=0,u=n.length-1;o<n.length;u=o++){var a=n[o][0],s=n[o][1],l=n[u][0],c=n[u][1];s>r!=c>r&&e<(l-a)*(r-s)/(c-s)+a&&(i=!i)}return i}_getPolygonFromElement(t){const n=t.attr("points");if(n){const t=n.split(" ");let e=[];for(let n=0;n<t.length;n+=2)e.push([+t[n],+t[n+1]]);return e}}},Ko={DOWNLOAD:"Download",SAVE:"Speichern",CLEAR:"Zurücksetzen",LOAD:"Öffnen",SYMMETRICAL:" Symmetrisch",VPROFILE:" V-Profil",SUCCESS_SAVE_DIALOG:"Erfolgreich gespeichert!",CONFIRM_DIALOG:"Wenn Du einen gespeicherten Stand lädst, gehen nicht gespeicherte Änderungen verloren!",NO_ITEM_FOUND_DIALOG:"Es wurde keine gespeicherte Datei gefunden.",HELP_TITLE:"Colorizer Hilfe",HELP_DOWNLOAD:"Download: Bietet den aktuell modellierten Stand als Downlad an.",HELP_SAVE:"Speichern: Speichert den aktuell modellierten Stand im Browser zur späteren Weiterbearbeitung.",HELP_LOAD:"Öffnen: Öffnet den zu vor gespeicherten Stand.",HELP_CLEAR:"Zurücksetzen: Setzt den Modellierungsbereich auf den ursprünglichen Zustand zurück.",HELP_SYMMETRICAL:"Symmetrisch: Wenn Haken gesetzt ist, werden Felder symmetrisch koloriert. Ist der Hacken nicht gesetzt, kann jedes Feld separat koloriert werden.",HELP_VPROFILE:" V-Profil: Wenn Haken gesetzt ist, werden beim Klick in die Farbpalette die V-Profile eingefärbt.",HELP_HOW_TO_BUY_CUSTOM_PRODUCT:'Du hast Deine Lieblingsfarbgestalltung gefunden und möchtest den Drachen so bestellen? Lade die Datei (<span class="fa fa-download"></span>) auf Dein Endgerät und schicke Sie per email an: <a href="mailto:hello@spiderkites.com?subject=custom color">hello@spiderkites.com</a>. Bestelle den Drachen, indem Du die Farbe \'custom color\' in den Warenkorb legst und den Bestellvorgang abschließt. Dein Drachen geht in die Produktion. Das dauert vier bis sechs Wochen. Wir melden uns, wenn er fertig ist.',HELP_CLOSE:"Schließen"},tu={DOWNLOAD:"Download",SAVE:"Save",CLEAR:"Clear",LOAD:"Open",SYMMETRICAL:" Symmetrical",VPROFILE:" V-Profile",SUCCESS_SAVE_DIALOG:"Successfully saved!",CONFIRM_DIALOG:" If you load a saved file, unsaved changes will get lost!",NO_ITEM_FOUND_DIALOG:"No saved file was found.",HELP_TITLE:"Colorizer help",HELP_DOWNLOAD:"Download: Downloads the currently configured version.",HELP_SAVE:"Save:  Saves the currently configured version in your browser for later editing.",HELP_LOAD:"Open: Opens the previously saved version.",HELP_CLEAR:"Clear: Resets the modeling area to its default state.",HELP_SYMMETRICAL:"Symmetrical: If checked, panels are colored symmetrically. If the check mark is not set, each panel can be colored separately.",HELP_VPROFILE:" V-Profile: If checked, the V-profiles are colored when clicking in the color palette.",HELP_HOW_TO_BUY_CUSTOM_PRODUCT:'You have found your favourite colour scheme and want to order the kite? Download the file (<span class="fa fa-download"></span>) to your device and send it by e-mail to: <a href="mailto:hello@spiderkites.com?subject=custom color">hello@spiderkites.com</a>.Order the kite by selecting \'custom color\'.  Put it in your shopping cart and proceed to check out. Your kite now goes into production. This will take four to six weeks. We will get in touch with you when it is ready.',HELP_CLOSE:"Close"};class nu{constructor(){this.de=Ko,this.en=tu,this.lang=document.documentElement?document.documentElement.lang:"de",this._initStaticText()}_initStaticText(){let t=this;var n;(n="[translate]","string"==typeof n?new xt([document.querySelectorAll(n)],[document.documentElement]):new xt([null==n?[]:n],wt)).each((function(){const n=Ct(this),e=n.text().trim(),r=t.translate(e);r&&n.html(r)}))}translate(t){return this[this.lang][t]}}window.initColorizer=function(t,n){const e=new nu;new Jo(t,n,e)},String.prototype.hashCode=function(){var t,n=0;if(0===this.length)return n;for(t=0;t<this.length;t++)n=(n<<5)-n+this.charCodeAt(t),n|=0;return n}}});