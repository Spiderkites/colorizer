!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=20)}({20:function(t,n,e){"use strict";e.r(n);var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return r(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var o=i(r);o.right,o.left;var u=Array.prototype;u.slice,u.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Array.prototype.slice;var a={value:function(){}};function s(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new l(r)}function l(t){this._=t}function c(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function f(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function h(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}l.prototype=s.prototype={constructor:l,on:function(t,n){var e,r=this._,i=c(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=h(r[e],t.name,n);else if(null==n)for(e in r)r[e]=h(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=f(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new l(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var d=s;function p(){}var g=function(t){return null==t?p:function(){return this.querySelector(t)}};function v(){return[]}var y=function(t){return null==t?v:function(){return this.querySelectorAll(t)}},m=function(t){return function(){return this.matches(t)}},_=function(t){return new Array(t.length)};function w(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function x(t,n,e,r,i,o){for(var u,a=0,s=n.length,l=o.length;a<l;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new w(t,o[a]);for(;a<s;++a)(u=n[a])&&(i[a]=u)}function M(t,n,e,r,i,o,u){var a,s,l,c={},f=n.length,h=o.length,d=new Array(f);for(a=0;a<f;++a)(s=n[a])&&(d[a]=l="$"+u.call(s,s.__data__,a,n),l in c?i[a]=s:c[l]=s);for(a=0;a<h;++a)(s=c[l="$"+u.call(t,o[a],a,o)])?(r[a]=s,s.__data__=o[a],c[l]=null):e[a]=new w(t,o[a]);for(a=0;a<f;++a)(s=n[a])&&c[d[a]]===s&&(i[a]=s)}function b(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var C="http://www.w3.org/1999/xhtml",T={svg:"http://www.w3.org/2000/svg",xhtml:C,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},A=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),T.hasOwnProperty(n)?{space:T[n],local:t}:t};function N(t){return function(){this.removeAttribute(t)}}function S(t){return function(){this.removeAttributeNS(t.space,t.local)}}function U(t,n){return function(){this.setAttribute(t,n)}}function L(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function k(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function D(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var E=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function P(t){return function(){this.style.removeProperty(t)}}function R(t,n,e){return function(){this.style.setProperty(t,n,e)}}function O(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function H(t,n){return t.style.getPropertyValue(n)||E(t).getComputedStyle(t,null).getPropertyValue(n)}function F(t){return function(){delete this[t]}}function I(t,n){return function(){this[t]=n}}function Y(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function q(t){return t.trim().split(/^|\s+/)}function j(t){return t.classList||new z(t)}function z(t){this._node=t,this._names=q(t.getAttribute("class")||"")}function X(t,n){for(var e=j(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function V(t,n){for(var e=j(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function B(t){return function(){X(this,t)}}function Z(t){return function(){V(this,t)}}function W(t,n){return function(){(n.apply(this,arguments)?X:V)(this,t)}}z.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function G(){this.textContent=""}function Q(t){return function(){this.textContent=t}}function J(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function K(){this.innerHTML=""}function tt(t){return function(){this.innerHTML=t}}function nt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function et(){this.nextSibling&&this.parentNode.appendChild(this)}function rt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function it(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===C&&n.documentElement.namespaceURI===C?n.createElement(t):n.createElementNS(e,t)}}function ot(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ut=function(t){var n=A(t);return(n.local?ot:it)(n)};function at(){return null}function st(){var t=this.parentNode;t&&t.removeChild(this)}function lt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ct(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var ft={},ht=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ft={mouseenter:"mouseover",mouseleave:"mouseout"}));function dt(t,n,e){return t=pt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function pt(t,n,e){return function(r){var i=ht;ht=r;try{t.call(this,this.__data__,n,e)}finally{ht=i}}}function gt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function vt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function yt(t,n,e){var r=ft.hasOwnProperty(t.type)?dt:pt;return function(i,o,u){var a,s=this.__on,l=r(n,o,u);if(s)for(var c=0,f=s.length;c<f;++c)if((a=s[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=e),void(a.value=n);this.addEventListener(t.type,l,e),a={type:t.type,name:t.name,value:n,listener:l,capture:e},s?s.push(a):this.__on=[a]}}function mt(t,n,e){var r=E(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function _t(t,n){return function(){return mt(this,t,n)}}function wt(t,n){return function(){return mt(this,t,n.apply(this,arguments))}}var xt=[null];function Mt(t,n){this._groups=t,this._parents=n}function bt(){return new Mt([[document.documentElement]],xt)}Mt.prototype=bt.prototype={constructor:Mt,select:function(t){"function"!=typeof t&&(t=g(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],s=a.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=a[c])&&(u=t.call(o,o.__data__,c,a))&&("__data__"in o&&(u.__data__=o.__data__),l[c]=u);return new Mt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=y(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],s=a.length,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new Mt(r,i)},filter:function(t){"function"!=typeof t&&(t=m(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new Mt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),c=-1,this.each((function(t){p[++c]=t})),p;var e,r=n?M:x,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),s=new Array(u),l=new Array(u),c=0;c<u;++c){var f=i[c],h=o[c],d=h.length,p=t.call(f,f&&f.__data__,c,i),g=p.length,v=s[c]=new Array(g),y=a[c]=new Array(g);r(f,h,v,y,l[c]=new Array(d),p,n);for(var m,_,w=0,b=0;w<g;++w)if(m=v[w]){for(w>=b&&(b=w+1);!(_=y[b])&&++b<g;);m._next=_||null}}return(a=new Mt(a,i))._enter=s,a._exit=l,a},enter:function(){return new Mt(this._enter||this._groups.map(_),this._parents)},exit:function(){return new Mt(this._exit||this._groups.map(_),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=n[a],c=e[a],f=l.length,h=u[a]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;a<r;++a)u[a]=n[a];return new Mt(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=b);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],s=a.length,l=i[o]=new Array(s),c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(n)}return new Mt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=A(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?S:N:"function"==typeof n?e.local?D:k:e.local?L:U)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?P:"function"==typeof n?O:R)(t,n,null==e?"":e)):H(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?F:"function"==typeof n?Y:I)(t,n)):this.node()[t]},classed:function(t,n){var e=q(t+"");if(arguments.length<2){for(var r=j(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?W:n?B:Z)(e,n))},text:function(t){return arguments.length?this.each(null==t?G:("function"==typeof t?J:Q)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?K:("function"==typeof t?nt:tt)(t)):this.node().innerHTML},raise:function(){return this.each(et)},lower:function(){return this.each(rt)},append:function(t){var n="function"==typeof t?t:ut(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:ut(t),r=null==n?at:"function"==typeof n?n:g(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(st)},clone:function(t){return this.select(t?ct:lt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=gt(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?yt:vt,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var s,l=0,c=a.length;l<c;++l)for(r=0,s=a[l];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?wt:_t)(t,n))}};var Ct=bt,Tt=function(t){return"string"==typeof t?new Mt([[document.querySelector(t)]],[document.documentElement]):new Mt([[t]],xt)};var At=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Nt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function St(){}var Ut="\\s*([+-]?\\d+)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dt=/^#([0-9a-f]{3,8})$/,Et=new RegExp("^rgb\\("+[Ut,Ut,Ut]+"\\)$"),Pt=new RegExp("^rgb\\("+[kt,kt,kt]+"\\)$"),Rt=new RegExp("^rgba\\("+[Ut,Ut,Ut,Lt]+"\\)$"),Ot=new RegExp("^rgba\\("+[kt,kt,kt,Lt]+"\\)$"),Ht=new RegExp("^hsl\\("+[Lt,kt,kt]+"\\)$"),Ft=new RegExp("^hsla\\("+[Lt,kt,kt,Lt]+"\\)$"),It={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yt(){return this.rgb().formatHex()}function qt(){return this.rgb().formatRgb()}function jt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Dt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?zt(n):3===e?new Bt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new Bt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new Bt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Et.exec(t))?new Bt(n[1],n[2],n[3],1):(n=Pt.exec(t))?new Bt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Rt.exec(t))?$t(n[1],n[2],n[3],n[4]):(n=Ot.exec(t))?$t(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ht.exec(t))?Qt(n[1],n[2]/100,n[3]/100,1):(n=Ft.exec(t))?Qt(n[1],n[2]/100,n[3]/100,n[4]):It.hasOwnProperty(t)?zt(It[t]):"transparent"===t?new Bt(NaN,NaN,NaN,0):null}function zt(t){return new Bt(t>>16&255,t>>8&255,255&t,1)}function $t(t,n,e,r){return r<=0&&(t=n=e=NaN),new Bt(t,n,e,r)}function Xt(t){return t instanceof St||(t=jt(t)),t?new Bt((t=t.rgb()).r,t.g,t.b,t.opacity):new Bt}function Vt(t,n,e,r){return 1===arguments.length?Xt(t):new Bt(t,n,e,null==r?1:r)}function Bt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Zt(){return"#"+Gt(this.r)+Gt(this.g)+Gt(this.b)}function Wt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Gt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Qt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Kt(t,n,e,r)}function Jt(t){if(t instanceof Kt)return new Kt(t.h,t.s,t.l,t.opacity);if(t instanceof St||(t=jt(t)),!t)return new Kt;if(t instanceof Kt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,s=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=s>0&&s<1?0:u,new Kt(u,a,s,t.opacity)}function Kt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function tn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function nn(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}At(St,jt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Yt,formatHex:Yt,formatHsl:function(){return Jt(this).formatHsl()},formatRgb:qt,toString:qt}),At(Bt,Vt,Nt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zt,formatHex:Zt,formatRgb:Wt,toString:Wt})),At(Kt,(function(t,n,e,r){return 1===arguments.length?Jt(t):new Kt(t,n,e,null==r?1:r)}),Nt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Kt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Kt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Bt(tn(t>=240?t-240:t+120,i,r),tn(t,i,r),tn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var en=function(t){return function(){return t}};function rn(t,n){return function(e){return t+e*n}}function on(t){return 1==(t=+t)?un:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):en(isNaN(n)?e:n)}}function un(t,n){var e=n-t;return e?rn(t,e):en(isNaN(t)?n:t)}var an=function t(n){var e=on(n);function r(t,n){var r=e((t=Vt(t)).r,(n=Vt(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=un(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function sn(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Vt(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}sn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return nn((e-r/n)*n,u,i,o,a)}})),sn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return nn((e-r/n)*n,i,o,u,a)}}));var ln=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(cn.source,"g");var hn,dn,pn=function(t,n){var e,r,i,o=cn.lastIndex=fn.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(e=cn.exec(t))&&(r=fn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,s.push({i:u,x:ln(e,r)})),o=fn.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)a[(e=s[r]).i]=e.x(t);return a.join("")})},gn=function(){for(var t,n=ht;t=n.sourceEvent;)n=t;return n},vn=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},yn=function(t){var n=gn();return n.changedTouches&&(n=n.changedTouches[0]),vn(t,n)},mn=0,_n=0,wn=0,xn=0,Mn=0,bn=0,Cn="object"==typeof performance&&performance.now?performance:Date,Tn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function An(){return Mn||(Tn(Nn),Mn=Cn.now()+bn)}function Nn(){Mn=0}function Sn(){this._call=this._time=this._next=null}function Un(t,n,e){var r=new Sn;return r.restart(t,n,e),r}function Ln(){Mn=(xn=Cn.now())+bn,mn=_n=0;try{!function(){An(),++mn;for(var t,n=hn;n;)(t=Mn-n._time)>=0&&n._call.call(null,t),n=n._next;--mn}()}finally{mn=0,function(){var t,n,e=hn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hn=n);dn=t,Dn(r)}(),Mn=0}}function kn(){var t=Cn.now(),n=t-xn;n>1e3&&(bn-=n,xn=t)}function Dn(t){mn||(_n&&(_n=clearTimeout(_n)),t-Mn>24?(t<1/0&&(_n=setTimeout(Ln,t-Cn.now()-bn)),wn&&(wn=clearInterval(wn))):(wn||(xn=Cn.now(),wn=setInterval(kn,1e3)),mn=1,Tn(Ln)))}Sn.prototype=Un.prototype={constructor:Sn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?An():+e)+(null==n?0:+n),this._next||dn===this||(dn?dn._next=this:hn=this,dn=this),this._call=t,this._time=e,Dn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dn())}};var En=function(t,n,e){var r=new Sn;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},Pn=d("start","end","cancel","interrupt"),Rn=[],On=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var l,c,f,h;if(1!==e.state)return a();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return En(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(En((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Un((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Pn,tween:Rn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Hn(t,n){var e=In(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Fn(t,n){var e=In(t,n);if(e.state>3)throw new Error("too late; already running");return e}function In(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Yn,qn,jn,zn,$n=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},Xn=180/Math.PI,Vn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Bn=function(t,n,e,r,i,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,s/=a),t*r<n*e&&(t=-t,n=-n,s=-s,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Xn,skewX:Math.atan(s)*Xn,scaleX:u,scaleY:a}};function Zn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var s=u.push("translate(",null,n,null,e);a.push({i:s-4,x:ln(t,i)},{i:s-2,x:ln(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ln(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ln(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,s),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:ln(t,e)},{i:a-2,x:ln(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var n,e=-1,r=s.length;++e<r;)a[(n=s[e]).i]=n.x(t);return a.join("")}}}var Wn=Zn((function(t){return"none"===t?Vn:(Yn||(Yn=document.createElement("DIV"),qn=document.documentElement,jn=document.defaultView),Yn.style.transform=t,t=jn.getComputedStyle(qn.appendChild(Yn),null).getPropertyValue("transform"),qn.removeChild(Yn),t=t.slice(7,-1).split(","),Bn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Gn=Zn((function(t){return null==t?Vn:(zn||(zn=document.createElementNS("http://www.w3.org/2000/svg","g")),zn.setAttribute("transform",t),(t=zn.transform.baseVal.consolidate())?(t=t.matrix,Bn(t.a,t.b,t.c,t.d,t.e,t.f)):Vn)}),", ",")",")");function Qn(t,n){var e,r;return function(){var i=Fn(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function Jn(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Fn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=a;break}s===l&&i.push(a)}o.tween=i}}function Kn(t,n,e){var r=t._id;return t.each((function(){var t=Fn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return In(t,r).value[n]}}var te=function(t,n){var e;return("number"==typeof n?ln:n instanceof jt?an:(e=jt(n))?(n=e,an):pn)(t,n)};function ne(t){return function(){this.removeAttribute(t)}}function ee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function re(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function ie(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function oe(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttribute(t))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttribute(t)}}function ue(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttributeNS(t.space,t.local)}}function ae(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function se(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function le(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&se(t,i)),e}return i._value=n,i}function ce(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&ae(t,i)),e}return i._value=n,i}function fe(t,n){return function(){Hn(this,t).delay=+n.apply(this,arguments)}}function he(t,n){return n=+n,function(){Hn(this,t).delay=n}}function de(t,n){return function(){Fn(this,t).duration=+n.apply(this,arguments)}}function pe(t,n){return n=+n,function(){Fn(this,t).duration=n}}function ge(t,n){if("function"!=typeof n)throw new Error;return function(){Fn(this,t).ease=n}}function ve(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Hn:Fn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}var ye=Ct.prototype.constructor;function me(t){return function(){this.style.removeProperty(t)}}function _e(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function we(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&_e(t,o,e)),r}return o._value=n,o}function xe(t){return function(n){this.textContent=t.call(this,n)}}function Me(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&xe(r)),n}return r._value=t,r}var be=0;function Ce(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Te(){return++be}var Ae=Ct.prototype;Ce.prototype=function(t){return Ct().transition(t)}.prototype={constructor:Ce,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=g(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,s,l=r[u],c=l.length,f=o[u]=new Array(c),h=0;h<c;++h)(a=l[h])&&(s=t.call(a,a.__data__,h,l))&&("__data__"in a&&(s.__data__=a.__data__),f[h]=s,On(f[h],n,e,h,f,In(a,e)));return new Ce(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var s,l=r[a],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,d=t.call(s,s.__data__,f,l),p=In(s,e),g=0,v=d.length;g<v;++g)(h=d[g])&&On(h,n,e,g,d,p);o.push(d),u.push(s)}return new Ce(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=m(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new Ce(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=n[a],c=e[a],f=l.length,h=u[a]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;a<r;++a)u[a]=n[a];return new Ce(u,this._parents,this._name,this._id)},selection:function(){return new ye(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Te(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)if(u=a[l]){var c=In(u,n);On(u,t,e,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ce(r,this._parents,t,e)},call:Ae.call,nodes:Ae.nodes,node:Ae.node,size:Ae.size,empty:Ae.empty,each:Ae.each,on:function(t,n){var e=this._id;return arguments.length<2?In(this.node(),e).on.on(t):this.each(ve(e,t,n))},attr:function(t,n){var e=A(t),r="transform"===e?Gn:te;return this.attrTween(t,"function"==typeof n?(e.local?ue:oe)(e,r,Kn(this,"attr."+t,n)):null==n?(e.local?ee:ne)(e):(e.local?ie:re)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=A(t);return this.tween(e,(r.local?le:ce)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Wn:te;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=H(this,t),u=(this.style.removeProperty(t),H(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,me(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=H(this,t),a=e(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=H(this,t)),u===s?null:u===r&&s===i?o:(i=s,o=n(r=u,a))}}(t,r,Kn(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var s=Fn(this,t),l=s.on,c=null==s.value[u]?o||(o=me(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(a,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=H(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,we(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Kn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Me(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=In(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Qn:Jn)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?fe:he)(n,t)):In(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?de:pe)(n,t)):In(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(ge(n,t)):In(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},s={value:function(){0==--i&&o()}};e.each((function(){var e=Fn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),e.on=n}))}))}};var Ne={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Se(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ne.time=An(),Ne;return e}Ct.prototype.interrupt=function(t){return this.each((function(){$n(this,t)}))},Ct.prototype.transition=function(t){var n,e;t instanceof Ce?(n=t._id,t=t._name):(n=Te(),(e=Ne).time=An(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)(u=a[l])&&On(u,t,n,l,a,e||Se(u,n));return new Ce(r,this._parents,t,n)};function Ue(t){return[+t[0],+t[1]]}function Le(t){return[Ue(t[0]),Ue(t[1])]}["w","e"].map(ke),["n","s"].map(ke),["n","w","e","s","nw","ne","sw","se"].map(ke);function ke(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var De=Math.PI,Ee=2*De,Pe=Ee-1e-6;function Re(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Oe(){return new Re}Re.prototype=Oe.prototype={constructor:Re,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,s=r-n,l=o-t,c=u-n,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(c*a-s*l)>1e-6&&i){var h=e-o,d=r-u,p=a*a+s*s,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((De-Math.acos((p+f-g)/(2*v*y)))/2),_=m/y,w=m/v;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(n+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+w*a)+","+(this._y1=n+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),s=t+u,l=n+a,c=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+s+","+l),e&&(f<0&&(f=f%Ee+Ee),f>Pe?this._+="A"+e+","+e+",0,1,"+c+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=De)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function He(){}function Fe(t,n){var e=new He;if(t instanceof He)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}He.prototype=Fe.prototype={constructor:He,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Ie=Fe;function Ye(){}var qe=Ie.prototype;function je(t,n){var e=new Ye;if(t instanceof Ye)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Ye.prototype=je.prototype={constructor:Ye,has:qe.has,add:function(t){return this["$"+(t+="")]=t,this},remove:qe.remove,clear:qe.clear,values:qe.keys,size:qe.size,empty:qe.empty,each:qe.each};Array.prototype.slice;var ze={},$e={};function Xe(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Ve(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Be(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Ze(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Be(-n,6):n>9999?"+"+Be(n,6):Be(n,4))+"-"+Be(t.getUTCMonth()+1,2)+"-"+Be(t.getUTCDate(),2)+(o?"T"+Be(e,2)+":"+Be(r,2)+":"+Be(i,2)+"."+Be(o,3)+"Z":i?"T"+Be(e,2)+":"+Be(r,2)+":"+Be(i,2)+"Z":r||e?"T"+Be(e,2)+":"+Be(r,2)+"Z":"")}var We=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,s=o<=0,l=!1;function c(){if(s)return $e;if(l)return l=!1,ze;var n,r,i=u;if(34===t.charCodeAt(i)){for(;u++<o&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(n=u)>=o?s=!0:10===(r=t.charCodeAt(u++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(u)&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if(10===(r=t.charCodeAt(n=u++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(u)&&++u;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==$e;){for(var f=[];r!==ze&&r!==$e;)f.push(r),r=c();n&&null==(f=n(f,a++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return u(n[t])})).join(t)}))}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?Ze(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Xe(t);return function(r,i){return n(e(r),i,t)}}(t,n):Xe(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Ve(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Ve(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:u}},Ge=We(","),Qe=Ge.parse,Je=(Ge.parseRows,Ge.format,Ge.formatBody,Ge.formatRows,Ge.formatRow,Ge.formatValue,We("\t")),Ke=Je.parse;Je.parseRows,Je.format,Je.formatBody,Je.formatRows,Je.formatRow,Je.formatValue;function tr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var nr=function(t,n){return fetch(t,n).then(tr)};function er(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),nr(n,e).then((function(n){return t(n,r)}))}}er(Qe),er(Ke);function rr(t){return function(n,e){return nr(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}rr("application/xml"),rr("text/html"),rr("image/svg+xml");function ir(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,s,l,c,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=n>=(o=(g+y)/2))?g=o:y=o,(c=e>=(u=(v+m)/2))?v=u:m=u,i=d,!(d=d[f=c<<1|l]))return i[f]=p,t;if(a=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===a&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=n>=(o=(g+y)/2))?g=o:y=o,(c=e>=(u=(v+m)/2))?v=u:m=u}while((f=c<<1|l)==(h=(s>=u)<<1|a>=o));return i[h]=d,i[f]=p,t}var or=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function ur(t){return t[0]}function ar(t){return t[1]}function sr(t,n,e){var r=new lr(null==n?ur:n,null==e?ar:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function lr(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function cr(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var fr=sr.prototype=lr.prototype;fr.copy=function(){var t,n,e=new lr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=cr(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=cr(n));return e},fr.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return ir(this.cover(n,e),n,e,t)},fr.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),s=1/0,l=1/0,c=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),e=0;e<o;++e)ir(this,u[e],a[e],t[e]);return this},fr.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,s=i-e,l=this._root;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=l,l=u,s*=2,a){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},fr.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},fr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},fr.find=function(t,n,e){var r,i,o,u,a,s,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new or(g,c,f,h,d)),null==e?e=1/0:(c=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(u=s.x1)<c||(a=s.y1)<f))if(g.length){var v=(i+u)/2,y=(o+a)/2;p.push(new or(g[3],v,y,u,a),new or(g[2],i,y,v,a),new or(g[1],v,o,u,y),new or(g[0],i,o,v,y)),(l=(n>=y)<<1|t>=v)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var m=t-+this._x.call(null,g.data),_=n-+this._y.call(null,g.data),w=m*m+_*_;if(w<e){var x=Math.sqrt(e=w);c=t-x,f=n-x,h=t+x,d=n+x,r=g.data}}return r},fr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,s,l,c,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(a=(p+v)/2))?p=a:v=a,(c=u>=(s=(g+y)/2))?g=s:y=s,n=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},fr.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},fr.root=function(){return this._root},fr.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},fr.visit=function(t){var n,e,r,i,o,u,a=[],s=this._root;for(s&&a.push(new or(s,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&s.length){var l=(r+o)/2,c=(i+u)/2;(e=s[3])&&a.push(new or(e,l,c,o,u)),(e=s[2])&&a.push(new or(e,r,c,l,u)),(e=s[1])&&a.push(new or(e,l,i,o,c)),(e=s[0])&&a.push(new or(e,r,i,l,c))}return this},fr.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new or(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,s=n.x1,l=n.y1,c=(u+s)/2,f=(a+l)/2;(o=i[0])&&e.push(new or(o,u,a,c,f)),(o=i[1])&&e.push(new or(o,c,a,s,f)),(o=i[2])&&e.push(new or(o,u,f,c,l)),(o=i[3])&&e.push(new or(o,c,f,s,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},fr.x=function(t){return arguments.length?(this._x=t,this):this._x},fr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var hr=function(){return Math.random()},dr=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(hr),function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(hr)),pr=(function t(n){function e(){var t=dr.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(hr),function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(hr));(function t(n){function e(t){var e=pr.source(n)(t);return function(){return e()/t}}return e.source=t,e})(hr),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(hr);var gr=Array.prototype;gr.map,gr.slice;var vr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yr(t){if(!(n=vr.exec(t)))throw new Error("invalid format: "+t);var n;return new mr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function mr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}yr.prototype=mr.prototype,mr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var _r,wr,xr=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Mr=function(t){return(t=xr(Math.abs(t)))?t[1]:NaN},br=function(t,n){var e=xr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Cr={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return br(100*t,n)},r:br,s:function(t,n){var e=xr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(_r=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xr(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Tr=function(t){return t},Ar=Array.prototype.map,Nr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];wr=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Tr:(n=Ar.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(t.substring(i-=a,i+a)),!((s+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Tr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Ar.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=yr(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.trim,m=t.type;"n"===m?(g=!0,m="g"):Cr[m]||(void 0===v&&(v=12),y=!0,m="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===h?o:/[%p]/.test(m)?s:"",x=Cr[m],M=/[defgprs%]/.test(m);function b(t){var i,o,s,h=_,b=w;if("c"===m)b=x(t)+b,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),C&&0==+t&&"+"!==f&&(C=!1),h=(C?"("===f?f:l:"-"===f||"("===f?"":f)+h,b=("s"===m?Nr[8+_r/3]:"")+b+(C&&"("===f?")":""),M)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){b=(46===s?u+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var T=h.length+t.length+b.length,A=T<p?new Array(p-T+1).join(n):"";switch(g&&d&&(t=r(A+t,A.length?p-b.length:1/0),A=""),e){case"<":t=h+t+b+A;break;case"=":t=h+A+t+b;break;case"^":t=A.slice(0,T=A.length>>1)+h+t+b+A.slice(T);break;default:t=A+h+t+b}return a(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),b.toString=function(){return t+""},b}return{format:f,formatPrefix:function(t,n){var e=f(((t=yr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Mr(n)/3))),i=Math.pow(10,-r),o=Nr[8+r/3];return function(t){return e(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),wr.format,wr.formatPrefix;var Sr=new Date,Ur=new Date;function Lr(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return Lr((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Sr.setTime(+n),Ur.setTime(+r),t(Sr),t(Ur),Math.floor(e(Sr,Ur))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var kr=Lr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));kr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Lr((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var Dr=kr,Er=(kr.range,Lr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));Er.range;function Pr(t){return Lr((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Rr=Pr(0),Or=Pr(1),Hr=Pr(2),Fr=Pr(3),Ir=Pr(4),Yr=Pr(5),qr=Pr(6),jr=(Rr.range,Or.range,Hr.range,Fr.range,Ir.range,Yr.range,qr.range,Lr((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),zr=jr,$r=(jr.range,Lr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),Xr=($r.range,Lr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()}))),Vr=(Xr.range,Lr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()}))),Br=(Vr.range,Lr((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));Br.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Lr((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):Br:null};Br.range;function Zr(t){return Lr((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var Wr=Zr(0),Gr=Zr(1),Qr=Zr(2),Jr=Zr(3),Kr=Zr(4),ti=Zr(5),ni=Zr(6),ei=(Wr.range,Gr.range,Qr.range,Jr.range,Kr.range,ti.range,ni.range,Lr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),ri=ei,ii=(ei.range,Lr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));ii.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Lr((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var oi=ii;ii.range;function ui(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ai(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function si(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var li,ci={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,hi=/^%/,di=/[\\^$*+?|[\]().{}]/g;function pi(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function gi(t){return t.replace(di,"\\$&")}function vi(t){return new RegExp("^(?:"+t.map(gi).join("|")+")","i")}function yi(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function mi(t,n,e){var r=fi.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function _i(t,n,e){var r=fi.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function wi(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function xi(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Mi(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function bi(t,n,e){var r=fi.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ci(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Ti(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ai(t,n,e){var r=fi.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Ni(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Si(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Ui(t,n,e){var r=fi.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Li(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ki(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Di(t,n,e){var r=fi.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Ei(t,n,e){var r=fi.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Pi(t,n,e){var r=fi.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Ri(t,n,e){var r=hi.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Oi(t,n,e){var r=fi.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Hi(t,n,e){var r=fi.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Fi(t,n){return pi(t.getDate(),n,2)}function Ii(t,n){return pi(t.getHours(),n,2)}function Yi(t,n){return pi(t.getHours()%12||12,n,2)}function qi(t,n){return pi(1+zr.count(Dr(t),t),n,3)}function ji(t,n){return pi(t.getMilliseconds(),n,3)}function zi(t,n){return ji(t,n)+"000"}function $i(t,n){return pi(t.getMonth()+1,n,2)}function Xi(t,n){return pi(t.getMinutes(),n,2)}function Vi(t,n){return pi(t.getSeconds(),n,2)}function Bi(t){var n=t.getDay();return 0===n?7:n}function Zi(t,n){return pi(Rr.count(Dr(t)-1,t),n,2)}function Wi(t,n){var e=t.getDay();return t=e>=4||0===e?Ir(t):Ir.ceil(t),pi(Ir.count(Dr(t),t)+(4===Dr(t).getDay()),n,2)}function Gi(t){return t.getDay()}function Qi(t,n){return pi(Or.count(Dr(t)-1,t),n,2)}function Ji(t,n){return pi(t.getFullYear()%100,n,2)}function Ki(t,n){return pi(t.getFullYear()%1e4,n,4)}function to(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+pi(n/60|0,"0",2)+pi(n%60,"0",2)}function no(t,n){return pi(t.getUTCDate(),n,2)}function eo(t,n){return pi(t.getUTCHours(),n,2)}function ro(t,n){return pi(t.getUTCHours()%12||12,n,2)}function io(t,n){return pi(1+ri.count(oi(t),t),n,3)}function oo(t,n){return pi(t.getUTCMilliseconds(),n,3)}function uo(t,n){return oo(t,n)+"000"}function ao(t,n){return pi(t.getUTCMonth()+1,n,2)}function so(t,n){return pi(t.getUTCMinutes(),n,2)}function lo(t,n){return pi(t.getUTCSeconds(),n,2)}function co(t){var n=t.getUTCDay();return 0===n?7:n}function fo(t,n){return pi(Wr.count(oi(t)-1,t),n,2)}function ho(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Kr(t):Kr.ceil(t),pi(Kr.count(oi(t),t)+(4===oi(t).getUTCDay()),n,2)}function po(t){return t.getUTCDay()}function go(t,n){return pi(Gr.count(oi(t)-1,t),n,2)}function vo(t,n){return pi(t.getUTCFullYear()%100,n,2)}function yo(t,n){return pi(t.getUTCFullYear()%1e4,n,4)}function mo(){return"+0000"}function _o(){return"%"}function wo(t){return+t}function xo(t){return Math.floor(+t/1e3)}!function(t){li=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,s=t.shortMonths,l=vi(i),c=yi(i),f=vi(o),h=yi(o),d=vi(u),p=yi(u),g=vi(a),v=yi(a),y=vi(s),m=yi(s),_={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Fi,e:Fi,f:zi,H:Ii,I:Yi,j:qi,L:ji,m:$i,M:Xi,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:wo,s:xo,S:Vi,u:Bi,U:Zi,V:Wi,w:Gi,W:Qi,x:null,X:null,y:Ji,Y:Ki,Z:to,"%":_o},w={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:no,e:no,f:uo,H:eo,I:ro,j:io,L:oo,m:ao,M:so,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:wo,s:xo,S:lo,u:co,U:fo,V:ho,w:po,W:go,x:null,X:null,y:vo,Y:yo,Z:mo,"%":_o},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return C(t,n,e,r)},d:Si,e:Si,f:Pi,H:Li,I:Li,j:Ui,L:Ei,m:Ni,M:ki,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=c[r[0].toLowerCase()],e+r[0].length):-1},q:Ai,Q:Oi,s:Hi,S:Di,u:_i,U:wi,V:xi,w:mi,W:Mi,x:function(t,n,r){return C(t,e,n,r)},X:function(t,n,e){return C(t,r,n,e)},y:Ci,Y:bi,Z:Ti,"%":Ri};function M(t,n){return function(e){var r,i,o,u=[],a=-1,s=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++a<l;)37===t.charCodeAt(a)&&(u.push(t.slice(s,a)),null!=(i=ci[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),s=a+1);return u.push(t.slice(s,a)),u.join("")}}function b(t,n){return function(e){var r,i,o=si(1900,void 0,1);if(C(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ai(si(o.y,0,1))).getUTCDay(),r=i>4||0===i?Gr.ceil(r):Gr(r),r=ri.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ui(si(o.y,0,1))).getDay(),r=i>4||0===i?Or.ceil(r):Or(r),r=zr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ai(si(o.y,0,1)).getUTCDay():ui(si(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ai(o)):ui(o)}}function C(t,n,e,r){for(var i,o,u=0,a=n.length,s=e.length;u<a;){if(r>=s)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=x[i in ci?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return _.x=M(e,_),_.X=M(r,_),_.c=M(n,_),w.x=M(e,w),w.X=M(r,w),w.c=M(n,w),{format:function(t){var n=M(t+="",_);return n.toString=function(){return t},n},parse:function(t){var n=b(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=M(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=b(t+="",!0);return n.toString=function(){return t},n}}}(t),li.format,li.parse,li.utcFormat,li.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Mo=Lr((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),bo=(Mo.range,Lr((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),Co=(bo.range,Lr((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})));Co.range;var To=function(t){return"string"==typeof t?new Mt([document.querySelectorAll(t)],[document.documentElement]):new Mt([null==t?[]:t],xt)};function Ao(){this._=null}function No(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function So(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Uo(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Lo(t){for(;t.L;)t=t.L;return t}Ao.prototype={constructor:Ao,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Lo(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(So(this,e),e=(t=e).U),e.C=!1,r.C=!0,Uo(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(Uo(this,e),e=(t=e).U),e.C=!1,r.C=!0,So(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?Lo(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,So(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Uo(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,So(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,Uo(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,So(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,Uo(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ko=Ao;function Do(t,n,e,r){var i=[null,null],o=eu.push(i)-1;return i.left=t,i.right=n,e&&Po(i,t,n,e),r&&Po(i,n,t,r),tu[t.index].halfedges.push(o),tu[n.index].halfedges.push(o),i}function Eo(t,n,e){var r=[n,e];return r.left=t,r}function Po(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Ro(t,n,e,r,i){var o,u=t[0],a=t[1],s=u[0],l=u[1],c=0,f=1,h=a[0]-s,d=a[1]-l;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=r-s,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}if(o=e-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}return!(c>0||f<1)||(c>0&&(t[0]=[s+c*h,l+c*d]),f<1&&(t[1]=[s+f*h,l+f*d]),!0)}}}}}function Oo(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,s=t[0],l=t.left,c=t.right,f=l[0],h=l[1],d=c[0],p=c[1],g=(f+d)/2,v=(h+p)/2;if(p===h){if(g<n||g>=r)return;if(f>d){if(s){if(s[1]>=i)return}else s=[g,e];o=[g,i]}else{if(s){if(s[1]<e)return}else s=[g,i];o=[g,e]}}else if(a=v-(u=(f-d)/(p-h))*g,u<-1||u>1)if(f>d){if(s){if(s[1]>=i)return}else s=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(s){if(s[1]<e)return}else s=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<p){if(s){if(s[0]>=r)return}else s=[n,u*n+a];o=[r,u*r+a]}else{if(s){if(s[0]<n)return}else s=[r,u*r+a];o=[n,u*n+a]}return t[0]=s,t[1]=o,!0}function Ho(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Fo(t,n){return n[+(n.left!==t.site)]}function Io(t,n){return n[+(n.left===t.site)]}var Yo,qo=[];function jo(){No(this),this.x=this.y=this.arc=this.site=this.cy=null}function zo(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],s=r[0]-u,l=r[1]-a,c=o[0]-u,f=o[1]-a,h=2*(s*f-l*c);if(!(h>=-iu)){var d=s*s+l*l,p=c*c+f*f,g=(f*d-l*p)/h,v=(s*p-c*d)/h,y=qo.pop()||new jo;y.arc=t,y.site=i,y.x=g+u,y.y=(y.cy=v+a)+Math.sqrt(g*g+v*v),t.circle=y;for(var m=null,_=nu._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}nu.insert(m,y),m||(Yo=y)}}}}function $o(t){var n=t.circle;n&&(n.P||(Yo=n.N),nu.remove(n),qo.push(n),No(n),t.circle=null)}var Xo=[];function Vo(){No(this),this.edge=this.site=this.circle=null}function Bo(t){var n=Xo.pop()||new Vo;return n.site=t,n}function Zo(t){$o(t),Ko.remove(t),Xo.push(t),No(t)}function Wo(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];Zo(t);for(var s=o;s.circle&&Math.abs(e-s.circle.x)<ru&&Math.abs(r-s.circle.cy)<ru;)o=s.P,a.unshift(s),Zo(s),s=o;a.unshift(s),$o(s);for(var l=u;l.circle&&Math.abs(e-l.circle.x)<ru&&Math.abs(r-l.circle.cy)<ru;)u=l.N,a.push(l),Zo(l),l=u;a.push(l),$o(l);var c,f=a.length;for(c=1;c<f;++c)l=a[c],s=a[c-1],Po(l.edge,s.site,l.site,i);s=a[0],(l=a[f-1]).edge=Do(s.site,l.site,null,i),zo(s),zo(l)}function Go(t){for(var n,e,r,i,o=t[0],u=t[1],a=Ko._;a;)if((r=Qo(a,u)-o)>ru)a=a.L;else{if(!((i=o-Jo(a,u))>ru)){r>-ru?(n=a.P,e=a):i>-ru?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}!function(t){tu[t.index]={site:t,halfedges:[]}}(t);var s=Bo(t);if(Ko.insert(n,s),n||e){if(n===e)return $o(n),e=Bo(n.site),Ko.insert(s,e),s.edge=e.edge=Do(n.site,s.site),zo(n),void zo(e);if(e){$o(n),$o(e);var l=n.site,c=l[0],f=l[1],h=t[0]-c,d=t[1]-f,p=e.site,g=p[0]-c,v=p[1]-f,y=2*(h*v-d*g),m=h*h+d*d,_=g*g+v*v,w=[(v*m-d*_)/y+c,(h*_-g*m)/y+f];Po(e.edge,l,p,w),s.edge=Do(l,t,null,w),e.edge=Do(t,p,null,w),zo(n),zo(e)}else s.edge=Do(n.site,s.site)}}function Qo(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],s=e[1],l=s-n;if(!l)return a;var c=a-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-s+l/2+i-o/2)))/f+r:(r+a)/2}function Jo(t,n){var e=t.N;if(e)return Qo(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var Ko,tu,nu,eu,ru=1e-6,iu=1e-12;function ou(t,n){return n[1]-t[1]||n[0]-t[0]}function uu(t,n){var e,r,i,o=t.sort(ou).pop();for(eu=[],tu=new Array(t.length),Ko=new ko,nu=new ko;;)if(i=Yo,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(Go(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Wo(i.arc)}if(function(){for(var t,n,e,r,i=0,o=tu.length;i<o;++i)if((t=tu[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=Ho(t,eu[n[e]]);for(u.sort((function(t,n){return a[n]-a[t]})),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],s=+n[1][0],l=+n[1][1];!function(t,n,e,r){for(var i,o=eu.length;o--;)Oo(i=eu[o],t,n,e,r)&&Ro(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>ru||Math.abs(i[0][1]-i[1][1])>ru)||delete eu[o]}(u,a,s,l),function(t,n,e,r){var i,o,u,a,s,l,c,f,h,d,p,g,v=tu.length,y=!0;for(i=0;i<v;++i)if(o=tu[i]){for(u=o.site,a=(s=o.halfedges).length;a--;)eu[s[a]]||s.splice(a,1);for(a=0,l=s.length;a<l;)p=(d=Io(o,eu[s[a]]))[0],g=d[1],f=(c=Fo(o,eu[s[++a%l]]))[0],h=c[1],(Math.abs(p-f)>ru||Math.abs(g-h)>ru)&&(s.splice(a,0,eu.push(Eo(u,d,Math.abs(p-t)<ru&&r-g>ru?[t,Math.abs(f-t)<ru?h:r]:Math.abs(g-r)<ru&&e-p>ru?[Math.abs(h-r)<ru?f:e,r]:Math.abs(p-e)<ru&&g-n>ru?[e,Math.abs(f-e)<ru?h:n]:Math.abs(g-n)<ru&&p-t>ru?[Math.abs(h-n)<ru?f:t,n]:null))-1),++l);l&&(y=!1)}if(y){var m,_,w,x=1/0;for(i=0,y=null;i<v;++i)(o=tu[i])&&(w=(m=(u=o.site)[0]-t)*m+(_=u[1]-n)*_)<x&&(x=w,y=o);if(y){var M=[t,n],b=[t,r],C=[e,r],T=[e,n];y.halfedges.push(eu.push(Eo(u=y.site,M,b))-1,eu.push(Eo(u,b,C))-1,eu.push(Eo(u,C,T))-1,eu.push(Eo(u,T,M))-1)}}for(i=0;i<v;++i)(o=tu[i])&&(o.halfedges.length||delete tu[i])}(u,a,s,l)}this.edges=eu,this.cells=tu,Ko=nu=eu=tu=null}uu.prototype={constructor:uu,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return Fo(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a,s,l,c=e.site,f=-1,h=n[i[o-1]],d=h.left===c?h.right:h.left;++f<o;)u=d,d=(h=n[i[f]]).left===c?h.right:h.left,u&&d&&r<u.index&&r<d.index&&(s=u,l=d,((a=c)[0]-l[0])*(s[1]-a[1])-(a[0]-s[0])*(l[1]-a[1])<0)&&t.push([c.data,u.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var s=t-i.site[0],l=n-i.site[1],c=s*s+l*l;do{i=o.cells[r=u],u=null,i.halfedges.forEach((function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var s=t-a[0],l=n-a[1],f=s*s+l*l;f<c&&(c=f,u=a.index)}}))}while(null!==u);return o._found=r,null==e||c<=e*e?i.site:null}};Math.SQRT2;function au(t,n,e){this.k=t,this.x=n,this.y=e}au.prototype={constructor:au,scale:function(t){return 1===t?this:new au(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new au(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new au(1,0,0);au.prototype;class su{constructor(){}setItem(t,n){localStorage.setItem(t,n)}getItem(t){return localStorage.getItem(t)}}var lu=class{constructor(t,n){this.i18n=n,this.SaveService=new su,this.initProduct(),this.symmetrical=!0,this.activeColor=void 0,t||this.cleanUpProductSvg(),this.initColor(),this.initButtons(),Tt("#spiderkites-colorizer").transition().style("opacity","1")}cleanUpProductSvg(){const t=this.productSvg.select("defs style");t.html(t.html().replace(".cls-1","g > polygon").replace("fill:none","fill: rgb(255, 255, 255)")),this.productSvg.selectAll(".cls-1").classed("cls-1",!1)}initProduct(){this.productSvg=Tt("#product svg"),this.productParts=this.productSvg.selectAll("g polygon"),this.productUUID=Tt("#product").attr("uuid");const t=this;this.productSvg.on("click",(function(){var n=yn(this);t.productParts.each((function(){const e=Tt(this),r=t._getPolygonFromElement(e);if(t._inside(n,r)&&t.activeColor)if(t.symmetrical){Tt(this.parentNode).selectAll("polygon").transition().style("fill",t.activeColor.style("fill"))}else e.transition().style("fill",t.activeColor.style("fill"))}))}))}initColor(){const t=this;To("#color-palet rect").style("cursor","pointer").on("click",(function(){const n=Tt(this);t.activeColor&&(t.activeColor.style("stroke",null),t.activeColor.style("stroke-width",null)),t.activeColor=n,t.activeColor.style("stroke","#474747"),t.activeColor.style("stroke-width","1.5px")}))}initButtons(){Tt("#clear-btn").on("click",()=>{this.productParts.each((function(){Tt(this).transition().style("fill","rgb(255, 255, 255)")}))}),Tt("#download-btn").on("click",()=>{!function(t,n){let e=document.createElement("a");e.setAttribute("href","data:image/svg+xml;utf8,"+encodeURIComponent(n)),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}("kite.svg",this.productSvg.node().outerHTML)}),Tt("#save-btn").on("click",()=>{this.SaveService.setItem(this.productUUID,this.productSvg.node().outerHTML)}),Tt("#load-btn").on("click",()=>{const t=this.SaveService.getItem(this.productUUID);t?confirm(this.i18n.translate("CONFIRM_DIALOG"))&&this.loadSvg(t):alert(this.i18n.translate("NO_ITEM_FOUND_DIALOG"))}),Tt("#symmetrical-checkbox").on("change",()=>{this.symmetrical=!this.symmetrical})}loadSvg(t){this._destroyListener(),Tt("#product div").html(t),this.initProduct()}_destroyListener(){this.productSvg.on("click",null)}_inside(t,n){for(var e=t[0],r=t[1],i=!1,o=0,u=n.length-1;o<n.length;u=o++){var a=n[o][0],s=n[o][1],l=n[u][0],c=n[u][1];s>r!=c>r&&e<(l-a)*(r-s)/(c-s)+a&&(i=!i)}return i}_getPolygonFromElement(t){const n=t.attr("points");if(n){const t=n.split(" ");let e=[];for(let n=0;n<t.length;n+=2)e.push([+t[n],+t[n+1]]);return e}}},cu={DOWNLOAD:"Download",SAVE:"Speichern",CLEAR:"Zurckseten",LOAD:"ffnen",SYMMETRICAL:" Symmetrisch",CONFIRM_DIALOG:"Wenn Sie einen gespeicherten Stand laden, gehen nicht gespeicherte nderungen verloren!",NO_ITEM_FOUND_DIALOG:"Es wurde keine gespeicherte Datei gefunden.",HELP_TITLE:"Colorizer Hilfe",HELP_DOWNLOAD:"Download: Bietet den aktuell modillierten Stand als Downlad an.",HELP_SAVE:"Speichern: Speichert den aktuell modellierten Stand im Browser zur spteren Weiterbearbeitung.",HELP_LOAD:"ffnen: ffnet den zu vor gespeicherten Stand.",HELP_CLEAR:"Zurcksetzen: Setzt den Modellierungsbereich auf den ursprnglichen Zustand zurck.",HELP_SYMMETRICAL:"Symmetrisch: Wenn Hacken gesetzt ist, werden Felder symmetrisch Koloriert. Ist der Hacken nicht gesetzt, kann jedes Feld separat Koloriert werden.",HELP_HOW_TO_BUY_CUSTOM_PRODUCT:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",HELP_CLOSE:"Schlieen"},fu={DOWNLOAD:"Download",SAVE:"Save",CLEAR:"Clear",LOAD:"Open",SYMMETRICAL:" Symmetrical",CONFIRM_DIALOG:"If you load a saved state, unsaved changes are lost!",NO_ITEM_FOUND_DIALOG:"  No saved file was found.",HELP_TITLE:"Colorizer help",HELP_DOWNLOAD:"Download: Offers the currently modelled stand as a download.",HELP_SAVE:"Save:  Saves the currently modelled version in the browser for further processing later.",HELP_LOAD:"Open: Opens the previous saved version.",HELP_CLEAR:"Clear: Resets the modeling area to its original state.",HELP_SYMMETRICAL:"Symmetrical: If check mark is set, fields are colored symmetrically. If the check mark is not set, each field can be colored separately.",HELP_HOW_TO_BUY_CUSTOM_PRODUCT:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",HELP_CLOSE:"Close"};class hu{constructor(){this.de=cu,this.en=fu,this.lang=document.documentElement?document.documentElement.lang:"de",this._initStaticText()}_initStaticText(){let t=this;To("[translate]").each((function(){const n=Tt(this),e=n.text().trim(),r=t.translate(e);r&&n.text(r)}))}translate(t){return this[this.lang][t]}}let du=0;const pu=setInterval(()=>{!!document.getElementById("spiderkites-colorizer")?window.initColorizer():du>=10?clearInterval(pu):du++},50);window.initColorizer=function(){clearInterval(pu);const t=new hu;new lu(!0,t)},$("#myModal").on("shown.bs.modal",(function(){console.log("fsdsdg"),$("#myInput").focus()}))}});